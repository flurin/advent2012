<!DOCTYPE html>
<html lang="en-US">
<head>
  <!-- [START:head] -->
  <!-- [STOP:head] -->
  <title>Notifications - HTML and CSS Advent 2012 by Digitpaint</title>
  <meta name="description" content="">
  <meta name="author" content="All of us at Digitpaint">

  <meta property="og:title" content="Notifications - HTML &amp; CSS Advent 2012">
  <meta property="og:url" content="http://advent2012.digitpaint.nl/">
  <meta property="og:image" content="/assets/opengraph/teaser.png">
  <meta property="og:description" content="">
  
  
</head>
<body class="layout-article">
  <div class="page">

    <!-- [START:layout/ribbon] -->
    <!-- [STOP:layout/ribbon] -->    
        
    <article class="main">

      <!-- [START:layout/article-header?nr=00&title=Notifications&previous=/&next=/] -->
      <!-- [STOP:layout/article-header] -->      

      <div class="body text">
        <p class="intro">
          Wouldn't it be great when you could notify a user with an important message even if the browser
          isn't currently being used? With the Notifications API you can do just that.
        </p>
        
        <section class="examples">
          <h2>Examples</h2>
          
          <button id="one-notification">Show me a notification!</button>
          
          <p>
            Send me a notification whenever there is a tweet with the hashtag 
            <a href="#">#dpadvent</a>
          </p>
          <button id="start-multiple-notifications">Start!</button>
          <button id="stop-multiple-notifications">Stop!</button>
        </section>
        
        <script>
        !function(){
          var windowNotifications = window.webkitNotifications;
          
          var oneButton = document.getElementById("one-notification");
          oneButton.addEventListener("click", function(ev){
            if (windowNotifications.checkPermission() == 0) { // 0 is PERMISSION_ALLOWED
              // function defined in step 2
              var notification = windowNotifications.createNotification(
                  '/favicon.ico', 
                  'Notification Title', 
                  'Notification content...'
              );
              
              notification.show();
            } else {
              windowNotifications.requestPermission();
            }            
          });
        }()
        </script>
        
        <h2>How does it work?</h2>
        <p>
          To send notifications from a page you have to <code>requestPermission()</code> first. This will make
          the browser bar popup. After you've requested permission you can check if you have permissions to create notifications 
          by calling <code>checkPermission()</code>.
        </p>
        <p>
          After the initial bootstrapping you can create a notification with <code>createNotification(icon, title, content)</code>.
          You can even attach callbacks when the thing notification is shown and when it's closed by the user. To show
          the notification you call <code>show()</code> on the created notification object.
        </p>
                
        <h2>Useful?</h2>
        <p>
          Very much so! We love the fact that you now have the ability to notify a user even if
          your application isn't in the topmost window. Of course a user still has to open your page
          but it doesn't have to be in focus.
        </p>
        
        <p>
          Here are some more practical applications:
        </p>
        <ul>
          <li>Chat message notification in online chat</li>
          <li>Notify a user that there are is new email</li>
          <li>Get notifications if your server is going haywire</li>
          <li>Notify a visitor that he has still stuff in his cart and didn't do anything with it for 20 minutes</li>
        </ul>
          
        
        <h2>Great, but can I use it today?</h2>
        <p>
          These examples currently only work in Webkit. Firefox however is working on notifications too.
          The spec is still in draft en is due to change (the version that's currently working is actually based on an outdated spec).
        </p>
        
        
        <h2>Show me the source!</h2>
        <p>Feel free to look around the different source files we used for this example.</p>
        <ul>
          <li><a href="1.css">The javascript</a></li>
        </ul>        
               
      </div>
      
      <footer class="footer text">
          
        <h2>Attribution</h2>
        
        <p>
          See the <a href="http://www.w3.org/TR/notifications/" target="_blank" rel="nofollow"> Notification API spec</a> at W3C
        </p>
        <p>
          This example was heavily inspired by the article 
          <a href="http://www.html5rocks.com/en/tutorials/notifications/quick/" target="_blank" rel="nofollow">
            Using the notifications API
          </a> over at HTML5 Rocks
        </p>
          
      </footer>
      
    </article>
        
  </div>
    
  <!-- [START:javascripts] -->
  <!-- [STOP:javascripts] -->    
</body>
</html>