<!DOCTYPE html>
<html lang="en-US">
<head>
  <!-- [START:head] -->
  <!-- [STOP:head] -->
  <title>TITLE - HTML and CSS Advent 2012 by Digitpaint</title>
  <meta name="author" content="All of us at Digitpaint">
  <meta name="description" content="">
  
  <meta property="og:title" content="TITLE - HTML &amp; CSS Advent 2012">
  <meta property="og:url" content="http://advent2012.digitpaint.nl/22/">
  <meta property="og:image" content="http://advent2012.digitpaint.nl/assets/opengraph/22.png">
  <meta property="og:description" content="">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@digitpaint">
  <meta name="twitter:creator" content="@flurin">
  <meta name="twitter:title" content="TITLE - HTML &amp; CSS Advent 2012 by Digitpaint">
  <meta name="twitter:url" content="http://advent2012.digitpaint.nl/22/">  
  <meta name="twitter:image" content="http://advent2012.digitpaint.nl/assets/opengraph/22.png">
  <meta name="twitter:description" content="">
  
  <link rel="stylesheet" href="22.css" />
  <script src="22.js"></script>
  
</head>
<body class="layout-article">
  <div class="page">

    <!-- [START:layout/ribbon] -->
    <!-- [STOP:layout/ribbon] -->    
        
    <article class="main">

      <!-- [START:layout/article-header?nr=22&title=&previous=/21/&next=/23/] -->
      <!-- [STOP:layout/article-header] -->    

      <div class="body text">
        <p class="intro">
          Drag an drop used to be a about a lot of custom javascript built on mousedown,
          mouseup, mousemove events. These drag and drop javascript libraries work pretty well within
          their own environment but they can not really interact with system drag and drop. With the
          HTML5 Drag and Drop we can handle dragging into the browser, dragging within the browser and
          dragging out of the browser.
        </p>
        
        <section class="examples">
          <h2>What are we talking about?</h2>
          <div class="row">
            <figure class="example">
              <h3>Christmas</h3>
              <ul id="container1" class="container">
                <li draggable="true">Eggs</li>
                <li draggable="true">Eggnog</li>
                <li draggable="true">Winter</li>
                <li draggable="true">Gl√ºhwein</li>
              </ul>
              <figcaption>Drag from here (also to your mail client or texteditor)</figcaption>
            </figure>
            <figure class="example">
              <h3>Easter</h3>
              <ul id="container2" class="container">
                <li draggable="true">Santa Claus</li>
                <li draggable="true">Easterbunny</li>
                <li draggable="true">Spring</li>
                <li draggable="true">Presents</li>
              </ul>              
              <figcaption>To here (or back), or drag files, text or tweets in here</figcaption>
            </figure>
            <figure class="example">
              <span>A .txt file</span>
              <span>A .html file</span>
              <span>An image</span>
              <figcaption>To here (or back)</figcaption>
            </figure>
            
          </div>
          
          
        </section>
        
        <h2>How does it work?</h2>          
        <p>
          When we're dealing with elements within the browser we have to tell the element that it's
          draggable with the <code style="language-markup">draggable="true"</code> attribute. After
          this the javascript fun starts! 
        </p>
        <p>
          We can attach the <code style="language-javascript">dragstart</code> and 
          <code style="language-javascript">dragend</code> events to the draggable to detect
          when the dragging starts and ends. When the dragging starts you can set the data
          that should be set with the dragging operation. This is important to do when you
          want other programs to understand the thing you're dragging. You can attach your data
          in multiple formats to the event's <code>dataTransfer</code> object with <code>dataTransfer.setData(CONTENTTYPE, DATA)</code>
          the draggable data must always be a string. In the example above we did this:
        </p>
        <pre class="language-javascript"><code>event.dataTransfer.setData("text/plain", category + " : " + this.innerText);
event.dataTransfer.setData("text/html", "&lt;strong&gt;" + category + "&lt;/strong&gt; : " + this.innerHTML);</code></pre>
        <p>
          to set the draggable data in plain text and in html.
        </p>
        
        <p>
          Drop targets receive the <code>dragenter</code> event when you enter the element while
          dragging something or <code>dragleave</code> when you leave the element. When you move
          your draggable over the drop target the <code>dragover</code> event get's called. Finally, if you drop
          somthing, the <code>drop</code> event get's called and you can read out
          the data with the event's <code>dataTransfer.getData(CONTENTTYPE)</code>. If you drop
          a file there is a special <code>dataTransfer.files</code> property that contains
          a <code>FileList</code> with the dropped files.
        </p>
          
        <p>
          In short that's it, there are some quirks in there that take some time to get used to but
          in general it works pretty well.
        </p>
        
        <h2>Useful?</h2>
        <p>
          This is very useful feature of your browser, of course doing everything with javascript is
          fine as long as you don't want to interact with the user's system. With the HTML Drag and Drop API
          you can do that and this makes it very useful for all kinds of operations, like:
        </p>
        <ul>
          <li>Uploading multiple files by drag and drop</li>
          <li>Dragging contactinformation directly into a webapp</li>
          <li>Dragging files out of your webapp (downloading them on demand)</li>
          <li>Generally making easy drag and drop interfaces</li>
        </ul>
        
        <h2>Great, but can I use it today?</h2>
        <p>
          Actually you can: most of these API's are supported in all major browsers for some
          time now, even though IE had only limited support until IE10. 
        </p>
        
        <h2>Show me the source!</h2>
        <p>
          Feel free to look around the differente source files we used for this example.
        </p>
        <ul>
          <li><a href="#">The javascripts</a></li>
          <li><a href="#">The stylesheet</a></li>
        </ul>
      </div>
      
      <footer class="footer text">
          
        <section class="attrbution">
          <h2>Attribution</h2>
        
          <p>
            Simple Drag and Drop
            http://html5demos.com/drag-anything
            by Remy Sharp
            
            
            Native HTML5 Drag and Drop
            http://www.html5rocks.com/en/tutorials/dnd/basics/
            by Eric Bidelman
          </p>
        </section>
        
        
        <!-- [START:share] -->
        <!-- [STOP:share] -->
          
      </footer>
      
      <!-- [START:layout/site-navigation] --> 
      <!-- [STOP:layout/site-navigation] -->
      
    </article>
        
  </div>
    
  <script>  
    var addthis_share = { 
      templates: {
        twitter: 'Awesome! The HTML and CSS Advent 2012 #dpadvent {{url}}'
      }
    }
  </script>
  
  <!-- [START:javascripts] -->
  <!-- [STOP:javascripts] -->    
</body>
</html>
